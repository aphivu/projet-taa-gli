{"ast":null,"code":"import { apiUrl } from '../../requests/utils';\nvar SPORTS_REQUEST = 'SPORTS_REQUEST';\nvar SPORTS_SUCCESS = 'SPORTS_SUCCESS';\nvar SPORTS_FAILURE = 'SPORTS_FAILURE';\nexport function sportsRequest() {\n  return {\n    type: SPORTS_REQUEST\n  };\n}\nexport function sportsSuccess(sports) {\n  return {\n    type: SPORTS_SUCCESS,\n    sports: sports\n  };\n}\nexport function sportsFailure() {\n  return {\n    type: SPORTS_FAILURE\n  };\n}\nexport function getSports(username, password) {\n  console.log(\"Get Sports\");\n  return function (dispatch) {\n    dispatch(sportsRequest());\n    var loginHeader = {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Basic ' + btoa(username + ':' + password)\n      }\n    };\n    return fetch(apiUrl + '/user/sports', loginHeader).then(function (response) {\n      console.log(response.status);\n\n      if (response.ok) {\n        response.json();\n        console.log('Response ok').then(function (responseJson) {\n          dispatch(sportsSuccess(responseJson));\n        });\n      } else {\n        dispatch(sportsFailure());\n      }\n    }, function (error) {\n      console.log('An error occurred.', error);\n      dispatch(sportsFailure());\n    });\n  };\n}","map":{"version":3,"sources":["/home/phi/Documents/M2 CCN/Cours/TAA/Projet/UI/frontend_react/src/redux/actions/sportsActions.js"],"names":["apiUrl","SPORTS_REQUEST","SPORTS_SUCCESS","SPORTS_FAILURE","sportsRequest","type","sportsSuccess","sports","sportsFailure","getSports","username","password","console","log","dispatch","loginHeader","method","headers","btoa","fetch","then","response","status","ok","json","responseJson","error"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,sBAArB;AAEA,IAAMC,cAAc,GAAG,gBAAvB;AACA,IAAMC,cAAc,GAAG,gBAAvB;AACA,IAAMC,cAAc,GAAG,gBAAvB;AAEA,OAAO,SAASC,aAAT,GAAwB;AAC3B,SAAO;AACHC,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH;AAED,OAAO,SAASK,aAAT,CAAuBC,MAAvB,EAA8B;AACjC,SAAO;AACHF,IAAAA,IAAI,EAAEH,cADH;AAEHK,IAAAA,MAAM,EAAEA;AAFL,GAAP;AAIH;AAED,OAAO,SAASC,aAAT,GAAwB;AAC3B,SAAO;AACHH,IAAAA,IAAI,EAAEF;AADH,GAAP;AAGH;AAED,OAAO,SAASM,SAAT,CAAmBC,QAAnB,EAA4BC,QAA5B,EAAqC;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AAEA,SAAO,UAAUC,QAAV,EAAmB;AAEtBA,IAAAA,QAAQ,CAACV,aAAa,EAAd,CAAR;AAEA,QAAMW,WAAW,GAAG;AAChBC,MAAAA,MAAM,EAAE,KADQ;AAEhBC,MAAAA,OAAO,EAAE;AACL,yBAAiB,WAAUC,IAAI,CAAER,QAAQ,GAAG,GAAX,GAAiBC,QAAnB;AAD1B;AAFO,KAApB;AAOA,WAAOQ,KAAK,CAACnB,MAAM,GAAG,cAAV,EAAyBe,WAAzB,CAAL,CACEK,IADF,CACO,UAACC,QAAD,EAAc;AAChBT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACC,MAArB;;AACA,UAAID,QAAQ,CAACE,EAAb,EAAgB;AACZF,QAAAA,QAAQ,CAACG,IAAT;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EACCO,IADD,CACM,UAACK,YAAD,EAAkB;AACpBX,UAAAA,QAAQ,CAACR,aAAa,CAACmB,YAAD,CAAd,CAAR;AACH,SAHD;AAIH,OAND,MAMO;AACHX,QAAAA,QAAQ,CAACN,aAAa,EAAd,CAAR;AACH;AACJ,KAZF,EAaK,UAAAkB,KAAK,EAAI;AACLd,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCa,KAAlC;AACAZ,MAAAA,QAAQ,CAACN,aAAa,EAAd,CAAR;AACH,KAhBN,CAAP;AAkBH,GA7BD;AA8BH","sourcesContent":["import {apiUrl} from '../../requests/utils'\n\nconst SPORTS_REQUEST = 'SPORTS_REQUEST';\nconst SPORTS_SUCCESS = 'SPORTS_SUCCESS';\nconst SPORTS_FAILURE = 'SPORTS_FAILURE';\n\nexport function sportsRequest(){\n    return {\n        type: SPORTS_REQUEST\n    }\n}\n\nexport function sportsSuccess(sports){\n    return {\n        type: SPORTS_SUCCESS,\n        sports: sports\n    }\n}\n\nexport function sportsFailure(){\n    return {\n        type: SPORTS_FAILURE\n    }\n}\n\nexport function getSports(username,password){\n    console.log(\"Get Sports\");\n\n    return function (dispatch){\n\n        dispatch(sportsRequest());\n\n        const loginHeader = {\n            method: 'GET',\n            headers: {\n                'Authorization': 'Basic '+ btoa( username + ':' + password)\n              }\n        }\n\n        return fetch(apiUrl + '/user/sports',loginHeader)\n                .then((response) => {\n                    console.log(response.status)\n                    if (response.ok){\n                        response.json()\n                        console.log('Response ok')\n                        .then((responseJson) => {\n                            dispatch(sportsSuccess(responseJson))\n                        });\n                    } else {\n                        dispatch(sportsFailure())\n                    }        \n                },\n                    error => {\n                        console.log('An error occurred.', error);\n                        dispatch(sportsFailure())\n                    }\n                )\n    }\n}"]},"metadata":{},"sourceType":"module"}