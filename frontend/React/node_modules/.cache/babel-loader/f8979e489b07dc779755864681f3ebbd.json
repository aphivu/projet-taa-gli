{"ast":null,"code":"import { apiUrl } from '../../requests/utils';\nvar ACTIVITIES_REQUEST = 'ACTIVITIES_REQUEST';\nvar ACTIVITIES_SUCCESS = 'ACTIVITIES_SUCCESS';\nvar ACTIVITIES_FAILURE = 'ACTIVITIES_FAILURE';\nexport function activitiesRequest() {\n  return {\n    type: ACTIVITIES_REQUEST\n  };\n}\nexport function activitiesSuccess(activities) {\n  return {\n    type: ACTIVITIES_SUCCESS,\n    activities: activities\n  };\n}\nexport function activitiesFailure() {\n  return {\n    type: ACTIVITIES_FAILURE\n  };\n}\nexport function getActivities(username, password) {\n  console.log(\"Get Activities\");\n  return function (dispatch) {\n    dispatch(activitiesRequest());\n    var loginHeader = {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Basic ' + btoa(username + ':' + password)\n      }\n    };\n    return fetch(apiUrl + '/user/activities', loginHeader).then(function (response) {\n      console.log(response.status);\n\n      if (response.ok) {\n        console.log('Response ok');\n        response.json().then(function (responseJson) {\n          dispatch(activitiesSuccess(responseJson));\n        });\n      } else {\n        dispatch(activitiesFailure());\n      }\n    }, function (error) {\n      console.log('An error occurred.', error);\n      dispatch(activitiesFailure());\n    });\n  };\n}","map":{"version":3,"sources":["/home/phi/Documents/M2 CCN/Cours/TAA/Projet/UI/frontend_react/src/redux/actions/activitiesAction.js"],"names":["apiUrl","ACTIVITIES_REQUEST","ACTIVITIES_SUCCESS","ACTIVITIES_FAILURE","activitiesRequest","type","activitiesSuccess","activities","activitiesFailure","getActivities","username","password","console","log","dispatch","loginHeader","method","headers","btoa","fetch","then","response","status","ok","json","responseJson","error"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,sBAArB;AAEA,IAAMC,kBAAkB,GAAG,oBAA3B;AACA,IAAMC,kBAAkB,GAAG,oBAA3B;AACA,IAAMC,kBAAkB,GAAG,oBAA3B;AAEA,OAAO,SAASC,iBAAT,GAA4B;AAC/B,SAAO;AACHC,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH;AAED,OAAO,SAASK,iBAAT,CAA2BC,UAA3B,EAAsC;AACzC,SAAO;AACHF,IAAAA,IAAI,EAAEH,kBADH;AAEHK,IAAAA,UAAU,EAAEA;AAFT,GAAP;AAIH;AAED,OAAO,SAASC,iBAAT,GAA4B;AAC/B,SAAO;AACHH,IAAAA,IAAI,EAAEF;AADH,GAAP;AAGH;AAED,OAAO,SAASM,aAAT,CAAuBC,QAAvB,EAAgCC,QAAhC,EAAyC;AAC5CC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAEA,SAAO,UAAUC,QAAV,EAAmB;AAEtBA,IAAAA,QAAQ,CAACV,iBAAiB,EAAlB,CAAR;AAEA,QAAMW,WAAW,GAAG;AAChBC,MAAAA,MAAM,EAAE,KADQ;AAEhBC,MAAAA,OAAO,EAAE;AACL,yBAAiB,WAAUC,IAAI,CAAER,QAAQ,GAAG,GAAX,GAAiBC,QAAnB;AAD1B;AAFO,KAApB;AAOA,WAAOQ,KAAK,CAACnB,MAAM,GAAG,kBAAV,EAA6Be,WAA7B,CAAL,CACEK,IADF,CACO,UAACC,QAAD,EAAc;AAChBT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACC,MAArB;;AACA,UAAID,QAAQ,CAACE,EAAb,EAAgB;AACZX,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAQ,QAAAA,QAAQ,CAACG,IAAT,GACCJ,IADD,CACM,UAACK,YAAD,EAAkB;AACpBX,UAAAA,QAAQ,CAACR,iBAAiB,CAACmB,YAAD,CAAlB,CAAR;AACH,SAHD;AAIH,OAND,MAMO;AACHX,QAAAA,QAAQ,CAACN,iBAAiB,EAAlB,CAAR;AACH;AACJ,KAZF,EAaK,UAAAkB,KAAK,EAAI;AACLd,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCa,KAAlC;AACAZ,MAAAA,QAAQ,CAACN,iBAAiB,EAAlB,CAAR;AACH,KAhBN,CAAP;AAkBH,GA7BD;AA8BH","sourcesContent":["import {apiUrl} from '../../requests/utils'\n\nconst ACTIVITIES_REQUEST = 'ACTIVITIES_REQUEST';\nconst ACTIVITIES_SUCCESS = 'ACTIVITIES_SUCCESS';\nconst ACTIVITIES_FAILURE = 'ACTIVITIES_FAILURE';\n\nexport function activitiesRequest(){\n    return {\n        type: ACTIVITIES_REQUEST\n    }\n}\n\nexport function activitiesSuccess(activities){\n    return {\n        type: ACTIVITIES_SUCCESS,\n        activities: activities\n    }\n}\n\nexport function activitiesFailure(){\n    return {\n        type: ACTIVITIES_FAILURE\n    }\n}\n\nexport function getActivities(username,password){\n    console.log(\"Get Activities\");\n\n    return function (dispatch){\n\n        dispatch(activitiesRequest());\n\n        const loginHeader = {\n            method: 'GET',\n            headers: {\n                'Authorization': 'Basic '+ btoa( username + ':' + password)\n              }\n        }\n\n        return fetch(apiUrl + '/user/activities',loginHeader)\n                .then((response) => {\n                    console.log(response.status)\n                    if (response.ok){\n                        console.log('Response ok');\n                        response.json()\n                        .then((responseJson) => {\n                            dispatch(activitiesSuccess(responseJson))\n                        });\n                    } else {\n                        dispatch(activitiesFailure())\n                    }        \n                },\n                    error => {\n                        console.log('An error occurred.', error);\n                        dispatch(activitiesFailure())\n                    }\n                )\n    }\n}"]},"metadata":{},"sourceType":"module"}